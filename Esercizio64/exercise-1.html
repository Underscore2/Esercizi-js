<html>

<body>
  <div id="container">
    <button type="button" id="fetch-post">Fetch Post</button>
    <button type="button" id="save-post">Save Post on LocalStorage</button>
  </div>
</body>

</html>



<script>
  let promise1 = '', promise2 = '';
  let post = '';
  document.querySelector('#fetch-post').addEventListener('click', (e) => {


    (fetch('https://jsonplaceholder.typicode.com/posts/1')

      .then((response) => {

        if (response.ok) {

          return response.json()

        }
        else { throw new Error(`Il server non ha risposto. codice http: ${response.status}`) }
      }
      ).then((response) => {

        post = response;
        console.log("Sono arrivato qui", post)


      }).catch((error) => {

        console.log(error.message)
      }
      )
    )

  })


  document.querySelector('#save-post').addEventListener('click', (e) => {
    localStorage.setItem('User id', post.userId, 'id', post.id, 'title', post.title, 'body', post.body)

  })


</script>







<!-- <script>
  let promise1 = '', promise2 = '';
  let post = '';
  document.querySelector('#fetch-post').addEventListener('click', (e) => {
    promise1 = new Promise((resolve) => {

      resolve(fetch('https://jsonplaceholder.typicode.com/posts/1')

        .then((response) => {

          if (response.ok) {

            return response.json()

          }
          else { throw new Error(`Il server non ha risposto. codice http: ${response.status}`) }
        }
        ).then((response) => {

          post = response;
          console.log("Sono arrivato qui", post)


        }).catch((error) => {

          console.log(error.message)
        }
        )
      )


    })
  }
  )
  document.querySelector('#save-post').addEventListener('click', (e) => {
    console.log(promise1)
    Promise.all([promise1])
      .then(localStorage.setItem('Key', post.body))
  })


</script> -->